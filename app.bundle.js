!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var r;!function(n,i,o,a){"use strict";var s,d,c={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:(d=o.getUserMedia||o.webkitGetUserMedia||o.mozGetUserMedia||o.msGetUserMedia,d?d.bind(o):d),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||c.noop,t=t||0,!c.requestAnimFrame)return setTimeout(e,t);var n=(new Date).getTime(),r=new Object,i=c.requestAnimFrame;return r.value=i(function o(){(new Date).getTime()-n>=t?e.call():r.value=i(o)}),r},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:(s=n.btoa||function(e){for(var t="",n=0,r=e.length,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=void 0,a=void 0,s=void 0,d=void 0,c=void 0,l=void 0,u=void 0;n<r;)d=(o=e.charCodeAt(n++))>>2,c=(3&o)<<4|(a=e.charCodeAt(n++))>>4,l=(15&a)<<2|(s=e.charCodeAt(n++))>>6,u=63&s,isNaN(a)?l=u=64:isNaN(s)&&(u=64),t=t+i.charAt(d)+i.charAt(c)+i.charAt(l)+i.charAt(u);return t},s?s.bind(n):c.noop),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return c.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=i.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return n.Worker},blob:function(){return c.Blob},Uint8Array:function(){return n.Uint8Array},Uint32Array:function(){return n.Uint32Array},videoCodecs:function(){var e=i.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return t}()},noop:function(){},each:function(e,t){var n=void 0,r=void 0;if(c.isArray(e))for(n=-1,r=e.length;++n<r&&!1!==t(n,e[n]););else if(c.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break},mergeOptions:function(e,t){if(c.isObject(e)&&c.isObject(t)&&Object.keys){var n={};return c.each(e,function(t,r){n[t]=e[t]}),c.each(t,function(r,i){var o=t[r];c.isObject(o)&&e[r]?n[r]=c.mergeOptions(e[r],o):n[r]=o}),n}},setCSSAttr:function(e,t,n){c.isElement(e)&&(c.isString(t)&&c.isString(n)?e.style[t]=n:c.isObject(t)&&c.each(t,function(t,n){e.style[t]=n}))},removeElement:function(e){c.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!c.isString(e))return{};try{var t=new c.Blob([e],{type:"text/javascript"}),n=c.URL.createObjectURL(t);return{objectUrl:n,worker:new Worker(n)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};if(!i.body||!1===e.resizeFont)return e.fontSize;var t=e.text,n=e.gifWidth,r=parseInt(e.fontSize,10),o=parseInt(e.minFontSize,10),s=i.createElement("div"),d=i.createElement("span");for(s.setAttribute("width",n),s.appendChild(d),d.innerHTML=t,d.style.fontSize=r+"px",d.style.textIndent="-9999px",d.style.visibility="hidden",i.body.appendChild(d);d.offsetWidth>n&&r>=o;)d.style.fontSize=--r+"px";return i.body.removeChild(d),r+"px"},webWorkerError:!1},l=Object.freeze({default:c}),u={validate:function(e){e=c.isObject(e)?e:{};var t={};return c.each(u.validators,function(n,r){var i=r.errorCode;if(!e[i]&&!r.condition)return(t=r).error=!0,!1}),delete t.condition,t},isValid:function(e){var t=!0!==u.validate(e).error;return t},validators:[{condition:c.isFunction(c.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:c.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:c.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:c.isFunction(c.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:c.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:c.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:c.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},m=Object.freeze({default:u}),g=function(){},f={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:g,completeCallback:g,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},h=Object.freeze({default:f});function v(){return u.isValid()}function p(){var e,t,n,r,i,o=256,a=499,s=491,d=487,c=503,l=3*c,u=o-1,m=4,g=100,f=16,h=1<<f,v=10,p=10,y=h>>p,b=h<<v-p,w=6,C=(o>>3)*(1<<w),S=30,E=1024,k=256,x=1<<18,I=[],L=[],F=[],O=[];function M(e,t,n,r,a){var s,d,c,l,u,m,g;for((c=t-e)<-1&&(c=-1),(l=t+e)>o&&(l=o),s=t+1,d=t-1,m=1;s<l||d>c;){if(u=O[m++],s<l){g=i[s++];try{g[0]-=u*(g[0]-n)/x|0,g[1]-=u*(g[1]-r)/x|0,g[2]-=u*(g[2]-a)/x|0}catch(e){}}if(d>c){g=i[d--];try{g[0]-=u*(g[0]-n)/x|0,g[1]-=u*(g[1]-r)/x|0,g[2]-=u*(g[2]-a)/x|0}catch(e){}}}}function R(e,t,n,r,o){var a=i[t],s=e/E;a[0]-=s*(a[0]-n)|0,a[1]-=s*(a[1]-r)|0,a[2]-=s*(a[2]-o)|0}function W(e,t,n){var r,a,s,d,c,l,u,g,h,w;for(h=g=~(1<<31),u=l=-1,r=0;r<o;r++)(a=(w=i[r])[0]-e)<0&&(a=-a),(s=w[1]-t)<0&&(s=-s),a+=s,(s=w[2]-n)<0&&(s=-s),(a+=s)<g&&(g=a,l=r),(d=a-(L[r]>>f-m))<h&&(h=d,u=r),c=F[r]>>p,F[r]-=c,L[r]+=c<<v;return F[l]+=y,L[l]-=b,u}(function(e,a,s){var d,c;for(t=e,n=a,r=s,i=new Array(o),d=0;d<o;d++)i[d]=new Array(4),(c=i[d])[0]=c[1]=c[2]=(d<<m+8)/o|0,F[d]=h/o|0,L[d]=0}).apply(this,arguments);var T={map:function(e,t,n){var r,a,s,d,c,l,u;for(c=1e3,u=-1,a=(r=I[t])-1;r<o||a>=0;)r<o&&((s=(l=i[r])[1]-t)>=c?r=o:(r++,s<0&&(s=-s),(d=l[0]-e)<0&&(d=-d),(s+=d)<c&&((d=l[2]-n)<0&&(d=-d),(s+=d)<c&&(c=s,u=l[3])))),a>=0&&((s=t-(l=i[a])[1])>=c?a=-1:(a--,s<0&&(s=-s),(d=l[0]-e)<0&&(d=-d),(s+=d)<c&&((d=l[2]-n)<0&&(d=-d),(s+=d)<c&&(c=s,u=l[3]))));return u}};return T.process=function(){return function(){var i,o,u,f,h,v,p,y,b,x,I,L,F,T;for(n<l&&(r=1),e=30+(r-1)/3,L=t,F=0,T=n,x=(I=n/(3*r))/g|0,y=E,(p=(v=C)>>w)<=1&&(p=0),i=0;i<p;i++)O[i]=y*((p*p-i*i)*k/(p*p));for(b=n<l?3:n%a!=0?3*a:n%s!=0?3*s:n%d!=0?3*d:3*c,i=0;i<I;)if(R(y,o=W(u=(255&L[F+0])<<m,f=(255&L[F+1])<<m,h=(255&L[F+2])<<m),u,f,h),0!==p&&M(p,o,u,f,h),(F+=b)>=T&&(F-=n),0===x&&(x=1),++i%x==0)for(y-=y/e,(p=(v-=v/S)>>w)<=1&&(p=0),o=0;o<p;o++)O[o]=y*((p*p-o*o)*k/(p*p))}(),function(){var e;for(e=0;e<o;e++)i[e][0]>>=m,i[e][1]>>=m,i[e][2]>>=m,i[e][3]=e}(),function(){var e,t,n,r,a,s,d,c;for(d=0,c=0,e=0;e<o;e++){for(n=e,r=(a=i[e])[1],t=e+1;t<o;t++)(s=i[t])[1]<r&&(n=t,r=s[1]);if(s=i[n],e!=n&&(t=s[0],s[0]=a[0],a[0]=t,t=s[1],s[1]=a[1],a[1]=t,t=s[2],s[2]=a[2],a[2]=t,t=s[3],s[3]=a[3],a[3]=t),r!=d){for(I[d]=c+e>>1,t=d+1;t<r;t++)I[t]=e;d=r,c=e}}for(I[d]=c+u>>1,t=d+1;t<256;t++)I[t]=u}(),function(){for(var e=[],t=new Array(o),n=0;n<o;n++)t[i[n][3]]=n;for(var r=0,a=0;a<o;a++){var s=t[a];e[r++]=i[s][0],e[r++]=i[s][1],e[r++]=i[s][2]}return e}()},T}function y(){try{this.onmessage=function(t){var n,r=t.data||{};r.gifshot&&(n=e.run(r),postMessage(n))}}catch(e){}var e={dataToRGB:function(e,t,n){for(var r=t*n*4,i=0,o=[];i<r;)o.push(e[i++]),o.push(e[i++]),o.push(e[i++]),i++;return o},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;n+=3){var r=e[n],i=e[n+1],o=e[n+2];t.push(r<<16|i<<8|o)}return t},processFrameWithQuantizer:function(e,t,n,r){for(var i=this.dataToRGB(e,t,n),o=new p(i,i.length,r),a=o.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),d=t*n,c=new Uint8Array(d),l=0,u=0;u<d;u++){var m=i[l++],g=i[l++],f=i[l++];c[u]=o.map(m,g,f)}return{pixels:c,palette:s}},run:function(e){var t=e=e||{},n=t.height,r=(t.palette,t.sampleInterval),i=t.width,o=e.data;return this.processFrameWithQuantizer(o,i,n,r)}};return e}function b(e,t,n,r){var i=0,o=(r=r===a?{}:r).loop===a?null:r.loop,s=r.palette===a?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw"Width/Height invalid.";e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=0|(null!==s?128:0),e[i++]=0,e[i++]=0,null!==o){if(o<0||o>65535)throw"Loop count invalid.";e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var d=!1;this.addFrame=function(t,n,r,o,c,l){if(!0===d&&(--i,d=!1),l=l===a?{}:l,t<0||n<0||t>65535||n>65535)throw"x/y invalid.";if(r<=0||o<=0||r>65535||o>65535)throw"Width/Height invalid.";if(c.length<r*o)throw"Not enough pixels for the frame size.";var u=!0,m=l.palette;if(m!==a&&null!==m||(u=!1,m=s),m===a||null===m)throw"Must supply either a local or global palette.";for(var g=function(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(m),f=0;g>>=1;)++f;g=1<<f;var h=l.delay===a?0:l.delay,v=l.disposal===a?0:l.disposal;if(v<0||v>3)throw"Disposal out of range.";var p=!1,y=0;if(l.transparent!==a&&null!==l.transparent&&(p=!0,(y=l.transparent)<0||y>=g))throw"Transparent color index.";if((0!==v||p||0!==h)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=v<<2|(!0===p?1:0),e[i++]=255&h,e[i++]=h>>8&255,e[i++]=y,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=!0===u?128|f-1:0,!0===u)for(var b=0,w=m.length;b<w;++b){var C=m[b];e[i++]=C>>16&255,e[i++]=C>>8&255,e[i++]=255&C}i=function(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,s=o-1,d=o+1,c=d+1,l=n+1,u=0,m=0;function g(n){for(;u>=n;)e[t++]=255&m,m>>=8,u-=8,t===i+256&&(e[i]=255,i=t++)}function f(e){m|=e<<u,u+=l,g(8)}var h=r[0]&s,v={};f(o);for(var p=1,y=r.length;p<y;++p){var b=r[p]&s,w=h<<8|b,C=v[w];if(C===a){for(m|=h<<u,u+=l;u>=8;)e[t++]=255&m,m>>=8,u-=8,t===i+256&&(e[i]=255,i=t++);4096===c?(f(o),c=d+1,l=n+1,v={}):(c>=1<<l&&++l,v[w]=c++),h=b}else h=C}f(h),f(d),g(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0);return t}(e,i,f<2?2:f,c)},this.end=function(){return!1===d&&(e[i++]=59,d=!0),i}}var w=function(){},C=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=w,this.onRenderProgressCallback=w,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};C.prototype={workerMethods:y(),initializeWebWorkers:function(e){var t,n=p.toString()+"("+y.toString()+"());",r=void 0,o=void 0,a=void 0,s=-1,d="";for(t=e.numWorkers;++s<t;)r=c.createWebWorker(n),c.isObject(r)?(o=r.objectUrl,a=r.worker,this.workers.push({worker:a,objectUrl:o}),this.availableWorkers.push(a)):(d=r,c.webWorkerError=!!r);this.workerError=d,this.canvas=i.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,n="",r=-1;++r<t;)n+=this.byteMap[e[r]];return n},onFrameFinished:function(e){var t=this,n=t.frames,r=!!(t.options.images||[]).length,i=n.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,r&&e(t.numRenderedFrames/n.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/n.length),i?t.generatingGIF||t.generateGIF(n,t.onRenderCompleteCallback):c.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,n=(this.options,this.options),r=n.progressCallback,i=n.sampleInterval,o=this.frames,s=void 0,d=void 0,c=function(){var e=(arguments.length>0&&arguments[0]!==a?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(d),t.onFrameFinished(r)};(s=o[e]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=i,s.beingProcessed=!0,s.gifshot=!0,(d=this.getWorker())?(d.onmessage=c,d.postMessage(s)):c({data:t.workerMethods.run(s)}))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var n=this.frames[t];if(!n.done&&!n.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var n=[],r={loop:this.repeat},i=this.options,o=i.interval,a=i.frameDuration,s=!!i.images.length,d=i.gifHeight,l=i.gifWidth,u=new b(n,l,d,r),m=this.onRenderProgressCallback,g=s?100*o:0,f=void 0;this.generatingGIF=!0,c.each(e,function(t,n){var r=n.palette;m(.75+.25*n.position*1/e.length);for(var i=0;i<a;i++)u.addFrame(0,0,l,d,n.pixels,{palette:r,delay:g})}),u.end(),m(1),this.frames=[],this.generatingGIF=!1,c.isFunction(t)&&(f=this.bufferToString(n),t("data:image/gif;base64,"+c.btoa(f)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t){t=c.isObject(t)?t:{};var n=this.ctx,r=this.options,i=r.gifWidth,o=r.gifHeight,a=c.getFontSize(t),s=t,d=s.filter,l=s.fontColor,u=s.fontFamily,m=s.fontWeight,g=(s.gifHeight,s.gifWidth,s.text),f=s.textAlign,h=s.textBaseline,v=t.textXCoordinate?t.textXCoordinate:"left"===f?1:"right"===f?i:i/2,p=t.textYCoordinate?t.textYCoordinate:"top"===h?1:"center"===h?o/2:o,y=m+" "+a+" "+u,b=void 0;try{n.filter=d,n.drawImage(e,0,0,i,o),g&&(n.font=y,n.fillStyle=l,n.textAlign=f,n.textBaseline=h,n.fillText(g,v,p)),b=n.getImageData(0,0,i,o),this.addFrameImageData(b)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this;t.startRendering(function(n){t.destroyWorkers(),c.requestTimeout(function(){e(n)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;c.each(e,function(e,t){var n=t.worker,r=t.objectUrl;n.terminate(),c.URL.revokeObjectURL(r)})}}};var S=function(){},E={getGIF:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=arguments[1];t=c.isFunction(t)?t:S;var n=i.createElement("canvas"),r=void 0,o=!!e.images.length,s=e.cameraStream,d=e.crop,l=e.filter,u=e.fontColor,m=e.fontFamily,g=e.fontWeight,f=e.keepCameraOn,h=(e.numWorkers,e.progressCallback),v=e.saveRenderingContexts,p=e.savedRenderingContexts,y=e.text,b=e.textAlign,w=e.textBaseline,E=e.videoElement,k=e.videoHeight,x=e.videoWidth,I=e.webcamVideoElement,L=Number(e.gifWidth),F=Number(e.gifHeight),O=Number(e.interval),M=(Number(e.sampleInterval),o?0:1e3*O),R=[],W=p.length?p.length:e.numFrames,T=W,A=new C(e),B=c.getFontSize(e),U=e.textXCoordinate?e.textXCoordinate:"left"===b?1:"right"===b?L:L/2,q=e.textYCoordinate?e.textYCoordinate:"top"===w?1:"center"===w?F/2:F,j=g+" "+B+" "+m,D=d?Math.floor(d.scaledWidth/2):0,H=d?x-d.scaledWidth:0,V=d?Math.floor(d.scaledHeight/2):0,z=d?k-d.scaledHeight:0;W=W!==a?W:10,O=O!==a?O:.1,n.width=L,n.height=F,r=n.getContext("2d"),function e(){p.length||0!==E.currentTime?function e(){var n=T-1;function i(){var i;v&&R.push(r.getImageData(0,0,L,F)),y&&(r.font=j,r.fillStyle=u,r.textAlign=b,r.textBaseline=w,r.fillText(y,U,q)),i=r.getImageData(0,0,L,F),A.addFrameImageData(i),h((W-(T=n))/W),n>0&&c.requestTimeout(e,M),T||A.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:E,webcamVideoElement:I,savedRenderingContexts:R,keepCameraOn:f})})}p.length?(r.putImageData(p[W-T],0,0),i()):function e(){try{H>x&&(H=x),z>k&&(z=k),D<0&&(D=0),V<0&&(V=0),r.filter=l,r.drawImage(E,D,V,H,z,0,0,L,F),i()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(e,100)}}()}():c.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.videoWidth,n=e.videoHeight,r=e.gifWidth,i=e.gifHeight,o={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>n?(o.width=Math.round(t*(i/n))-r,o.scaledWidth=Math.round(o.width*(n/i))):(o.height=Math.round(n*(r/t))-i,o.scaledHeight=Math.round(o.height*(t/r))),o}},k={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var n=t.cameraStream,r=t.completedCallback,i=t.videoElement;i&&(i.videoWidth>0&&i.videoHeight>0?(i.removeEventListener("loadeddata",k.findVideoSize),r({videoElement:i,cameraStream:n,videoWidth:i.videoWidth,videoHeight:i.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout(function(){k.findVideoSize(t)},400)):r({videoElement:i,cameraStream:n,videoWidth:k.defaultVideoDimensions.width,videoHeight:k.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,n=e.cameraStream,r=e.completedCallback,i=e.streamedCallback,o=e.videoElement;if(c.isFunction(i)&&i(),t){if(c.isString(t))o.src=t,o.innerHTML='<source src="'+t+'" type="video/'+c.getExtension(t)+'" />';else if(t instanceof Blob){try{o.src=c.URL.createObjectURL(t)}catch(e){}o.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(o.mozSrcObject)o.mozSrcObject=n;else if(c.URL)try{o.srcObject=n,o.src=c.URL.createObjectURL(n)}catch(e){o.srcObject=n}o.play(),c.requestTimeout(function e(){e.count=e.count||0,!0===k.loadedData?(k.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}),k.loadedData=!1):(e.count+=1)>10?k.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}):e()},0)},startStreaming:function(e){var t=c.isFunction(e.error)?e.error:c.noop,n=c.isFunction(e.streamed)?e.streamed:c.noop,r=c.isFunction(e.completed)?e.completed:c.noop,o=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,d=e.options,l=e.webcamVideoElement,u=c.isElement(a)?a:l||i.createElement("video");o&&(u.crossOrigin=d.crossOrigin),u.autoplay=!0,u.loop=!0,u.muted=!0,u.addEventListener("loadeddata",function(e){k.loadedData=!0,d.offset&&(u.currentTime=d.offset)}),a?k.stream({videoElement:u,existingVideo:a,completedCallback:r}):s?k.stream({videoElement:u,cameraStream:s,streamedCallback:n,completedCallback:r}):c.getUserMedia({video:!0},function(e){k.stream({videoElement:u,cameraStream:e,streamedCallback:n,completedCallback:r})},t)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==a?arguments[1]:{},n=t.timeout!==a?t.timeout:0,r=t.callback,i=t.webcamVideoElement,o=void 0;n>0&&(o=c.requestTimeout(function(){k.onStreamingTimeout(r)},1e4)),k.startStreaming({error:function(){r({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(o)},completed:function(){var t=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=t.cameraStream,r=t.videoElement,i=t.videoHeight,o=t.videoWidth;e({cameraStream:n,videoElement:r,videoHeight:i,videoWidth:o})},lastCameraStream:t.lastCameraStream,webcamVideoElement:i,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){var t=e=c.isObject(e)?e:{},n=t.keepCameraOn,r=t.videoElement,i=t.webcamVideoElement,o=e.cameraStream||{},a=o.getTracks&&o.getTracks()||[],s=!!a.length,d=a[0];!n&&s&&c.isFunction(d.stop)&&d.stop(),c.isElement(r)&&!i&&(r.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&r.src&&c.URL.revokeObjectURL(r.src),c.removeElement(r))}};function x(e){e=c.isObject(e)?e:{},k.stopVideoStreaming(e)}function I(e,t){var n=e.options||{},r=n.images,o=n.video,a=Number(n.gifWidth),s=Number(n.gifHeight),d=(Number(n.numFrames),e.cameraStream),l=e.videoElement,u=e.videoWidth,m=e.videoHeight,g=E.getCropDimensions({videoWidth:u,videoHeight:m,gifHeight:s,gifWidth:a}),f=t;n.crop=g,n.videoElement=l,n.videoWidth=u,n.videoHeight=m,n.cameraStream=d,c.isElement(l)&&(l.width=a+g.width,l.height=s+g.height,n.webcamVideoElement||(c.setCSSAttr(l,{position:"fixed",opacity:"0"}),i.body.appendChild(l)),l.play(),E.getGIF(n,function(e){r&&r.length||o&&o.length||x(e),f(e)}))}function L(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e)||{},r=e.cameraStream,o=n.images,s=o?o.length:0,d=n.video,l=n.webcamVideoElement;n=c.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),s?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.images,r=e.options,o=e.imagesLength,s=u.validate({getUserMedia:!0,"window.URL":!0}),d=[],l=0,m=void 0,g=void 0;if(s.error)return t(s);function f(){c.each(d,function(e,t){t&&(t.text?g.addFrame(t.img,r,t.text):g.addFrame(t,r))}),function(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})})}(g,t)}g=new C(r),c.each(n,function(e,n){var a=n;n.src&&(a=a.src),c.isElement(a)?(r.crossOrigin&&(a.crossOrigin=r.crossOrigin),d[e]=a,(l+=1)===o&&f()):c.isString(a)&&(m=new Image,r.crossOrigin&&(m.crossOrigin=r.crossOrigin),function(r){n.text&&(r.text=n.text),r.onerror=function(e){var n=void 0;if(0==--o)return(n={}).error="None of the requested images was capable of being retrieved",t(n)},r.onload=function(t){n.text?d[e]={img:r,text:r.text}:d[e]=r,(l+=1)===o&&f(),c.removeElement(r)},r.src=a}(m),c.setCSSAttr(m,{position:"fixed",opacity:"0"}),i.body.appendChild(m))})}({images:o,imagesLength:s,callback:t,options:n}):d?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.existingVideo,r=e.options,i=u.validate({getUserMedia:!0,"window.URL":!0}),o=void 0,s=void 0;if(i.error)return t(i);if(c.isElement(n)&&n.src){if(s=n.src,o=c.getExtension(s),!c.isSupported.videoCodecs[o])return t(u.messages.videoCodecs)}else c.isArray(n)&&c.each(n,function(e,t){if(o=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),c.isSupported.videoCodecs[o])return n=t,!1});k.startStreaming({completed:function(e){e.options=r||{},I(e,t)},existingVideo:n,crossOrigin:r.crossOrigin,options:r})}({existingVideo:d,callback:t,options:n}):function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.lastCameraStream,r=e.options,i=e.webcamVideoElement;if(!v())return t(u.validate());r.savedRenderingContexts.length?E.getGIF(r,function(e){t(e)}):k.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};e.options=r||{},I(e,t)},{lastCameraStream:n,callback:t,webcamVideoElement:i,crossOrigin:r.crossOrigin})}({lastCameraStream:r,callback:t,webcamVideoElement:l,options:n})}}var F={utils:l,error:m,defaultOptions:h,createGIF:L,takeSnapShot:function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e);L(c.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),t)}},stopVideoStreaming:x,isSupported:function(){return u.isValid()},isWebCamGIFSupported:v,isExistingVideoGIFSupported:function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,function(e,n){c.isSupported.videoCodecs[n]&&(t=!0)}),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return u.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return u.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(r=function(){return F}.apply(t,[]))===a||(e.exports=r)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){return function e(t,n,r){var i,o,a=window,s="application/octet-stream",d=r||s,c=t,l=!n&&!r&&c,u=document.createElement("a"),m=function(e){return String(e)},g=a.Blob||a.MozBlob||a.WebKitBlob||m,f=n||"download";if(g=g.call?g.bind(a):Blob,"true"===String(this)&&(d=(c=[c,d])[0],c=c[1]),l&&l.length<2048&&(f=l.split("/").pop().split("?")[0],u.href=l,-1!==u.href.indexOf(l))){var h=new XMLHttpRequest;return h.open("GET",l,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,f,s)},setTimeout(function(){h.send()},0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&g!==m))return navigator.msSaveBlob?navigator.msSaveBlob(b(c),f):w(c);c=b(c),d=c.type||s}else if(/([\x80-\xff])/.test(c)){for(var v=0,p=new Uint8Array(c.length),y=p.length;v<y;++v)p[v]=c.charCodeAt(v);c=new g([p],{type:d})}function b(e){for(var t=e.split(/[:;,]/),n=t[1],r="base64"==t[2]?atob:decodeURIComponent,i=r(t.pop()),o=i.length,a=0,s=new Uint8Array(o);a<o;++a)s[a]=i.charCodeAt(a);return new g([s],{type:n})}function w(e,t){if("download"in u)return u.href=e,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout(function(){a.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(i=c instanceof g?c:new g([c],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(i,f);if(a.URL)w(a.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===m)try{return w("data:"+d+";base64,"+a.btoa(i))}catch(e){return w("data:"+d+","+encodeURIComponent(i))}(o=new FileReader).onload=function(e){w(this.result)},o.readAsDataURL(i)}return!0}})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";n.r(t);n(3),n(8),n(10),n(12),n(14),n(16);const r=[];function i(e,t,n){const r=document.getElementById("grid").getContext("2d"),i=r.createImageData(1,1);i.data[0]=n.r,i.data[1]=n.g,i.data[2]=n.b,i.data[3]=n.a,r.putImageData(i,e,t)}let o;function a(e,t){o=!!e&&(t?e.nextSibling:e)}function s(e){const t=document.querySelector(".view"),n=e.toDataURL(),i=document.getElementsByClassName("frame"),a=i.length-1,s=`<img src='${n}' id="img" class='${r[0]}'> \n                         <button class="far fa-copy" id="copy"></button>`,d=`<img src='${n}' id="img" class='${r[0]}'> \n                                <button class="far fa-copy" id="copy"></button>\n                                <button class="fas fa-arrows-alt" id="move"></button>\n                                <button class="fas fa-trash-alt" id="delete" />`;o&&(o.innerHTML=a?d:s),o||(i[a].innerHTML=a?d:s),t.innerHTML=`<img src='${n}' class='${r[0]}'>`}function d(e){const t=document.getElementById("grid"),n=t.getContext("2d"),r=new Image;r.src=e.src,n.clearRect(0,0,t.width,t.height),n.drawImage(r,0,0)}function c(){const e=document.getElementById("grid"),t=document.getElementsByClassName("frame");for(let n=0;n<t.length;n+=1){d(t[n].children[0]),a(t[n]),s(e)}}function l(e,t,n,r,i){e.width=t,e.height=t,e.style.transform=`scale(${n}, ${n})`,e.style.top=`${r}em`,e.style.left=`${i}em`}function u(e){const t=document.getElementById("grid"),n=document.getElementById("grid2");if("first-size"===e.target.id){const e=32,i=18,o=21.3,a=23.25;l(t,e,i,o,a),l(n,e,i,o,a),r[0]="first",c()}else if("second-size"===e.target.id){const e=64,i=10,o=19.3,a=22.25;l(t,e,i,o,a),l(n,e,i,o,a),r[0]="second",c()}else if("third-size"===e.target.id){const e=128,i=5,o=17.3,a=20.25;l(t,e,i,o,a),l(n,e,i,o,a),r[0]="third",c()}}function m(e,t,n,r,o){const a=Math.abs(n-e),s=Math.abs(r-t),d=e<n?1:-1,c=t<r?1:-1;let l=a-s,u=e,m=t;for(i(n,r,o);u!==n||m!==r;){i(u,m,o);const e=2*l;e>-s&&(l-=s,u+=d),e<a&&(l+=a,m+=c)}}function g(e,t,n,r,o){let a=Math.abs(n-e)+Math.abs(r-t),s=0,d=0,c=2-2*a;for(;a>=0;)i(e+s,t-a,o),i(e-s,t-a,o),i(e-s,t+a,o),i(e+s,t+a,o),d=2*(c+a)-1,c<0&&d<=0?c+=2*s+1:c>0&&d>0?c-=2*(a-=1)+1:(c+=2*((s+=1)-a),a-=1)}function f(e,t,n,r,i){m(e,t,n,t,i),m(n,t,n,r,i),m(n,r,e,r,i),m(e,r,e,t,i)}function h(e){const t=document.getElementById("grid"),n=t.getBoundingClientRect(),r=t.width/n.width,i=t.height/n.height;return{x:Math.floor((e.clientX-n.left)*r),y:Math.floor((e.clientY-n.top)*i)}}const v=document.getElementById("grid"),p=v.getContext("2d");function y(e,t){const n=window.getComputedStyle(e).backgroundColor,r=window.getComputedStyle(t).backgroundColor;t.style.backgroundColor=n,e.style.backgroundColor=r}function b(e){const t=document.querySelector("#prev"),n=document.querySelector("#current");"prev"===e.target.id&&y(t,n),"current"===e.target.id&&y(n,t)}function w(e){const t=window.getComputedStyle(e).backgroundColor.slice(5,-1).split(",");return{r:+t[0],g:+t[1],b:+t[2],a:255}}function C(e){const t=p.getImageData(0,0,v.width,v.height),n=w(document.querySelector("#current"));t.data[e]=n.r,t.data[e+1]=n.g,t.data[e+2]=n.b,t.data[e+3]=n.a,p.putImageData(t,0,0)}const S=document.getElementById("grid"),E={};let k,x,I=!1;function L(e){const t=document.querySelector("#current");I=!0,E.x=h(e).x,E.y=h(e).y,k=E.x,x=E.y,i(k,x,w(t))}function F(e){if(!0===I){const t=document.querySelector("#current");E.x=h(e).x,E.y=h(e).y,k=E.x,x=E.y,i(k,x,w(t))}}function O(){I=!1,s(S)}const M=document.getElementById("grid"),R=M.getContext("2d");let W,T,A,B,U,q,j,D=!1;function H(e){D=!0,W=h(e).x,T=h(e).y,U=R.getImageData(0,0,M.clientWidth,M.height)}function V(e){if(!0===D){const t=document.querySelector("#current");A=h(e).x,B=h(e).y,R.putImageData(U,0,0),m(W,T,A,B,w(t))}}function z(){const e=document.querySelector("#current");D=!1,R.putImageData(U,0,0),m(W,T,A,B,w(e)),s(M)}let N=!1;const P=document.getElementById("grid"),G=P.getContext("2d");function $(e){N=!0,q=h(e).x,j=h(e).y,G.clearRect(q,j,1,1)}function _(e){!0===N&&(q=h(e).x,j=h(e).y,G.clearRect(q,j,1,1))}function X(){N=!1,s(P)}let Y,J,K,Q,Z,ee=!1;const te=document.getElementById("grid"),ne=te.getContext("2d"),re=document.getElementById("current");function ie(e){ee=!0,Y=h(e).x,J=h(e).y,Z=ne.getImageData(0,0,te.clientWidth,te.height)}function oe(e){!0===ee&&(K=h(e).x,Q=h(e).y,ne.putImageData(Z,0,0),g(Y,J,K,Q,w(re)))}function ae(){ee=!1,ne.putImageData(Z,0,0),g(Y,J,K,Q,w(re)),s(te)}const se=document.getElementById("grid"),de=[];let ce;function le(e){const t=function(e){const t=p.getImageData(0,0,v.width,v.height),{data:n}=t;return{r:+n[e],g:+n[e+1],b:+n[e+2],a:+n[e+3]}}(e),{r:n,g:r,b:i,a:o}=t;return n===ce.r&&r===ce.g&&i===ce.b&&o===ce.a}var ue=function(e){const{x:t,y:n}=h(e);ce=function(e,t){const n=p.getImageData(e,t,1,1),{data:r}=n;return{r:+r[0],g:+r[1],b:+r[2],a:+r[3]}}(t,n),de.push([t,n]),function(){for(;de.length;){const e=de.pop(),t=e[0];let n=e[1],r=4*(n*se.width+t);for(;--n>=-1&&le(r);)r-=4*se.width;r+=4*se.width,++n;let i=!1,o=!1;for(;n++<=se.height&&le(r);)C(r),t>0&&le(r-4)&&(i?i&&(i=!1):(de.push([t-1,n]),i=!0)),t<=se.width&&le(r+4)&&(o?o&&(o=!1):(de.push([t+1,n]),o=!0)),r+=4*se.width}s(se)}()};const me=document.getElementById("grid"),ge=me.getContext("2d");var fe=function(){const e=document.querySelector("#current"),t=window.getComputedStyle(e).backgroundColor;ge.clearRect(0,0,me.width,me.height),ge.fillStyle=t,ge.fillRect(0,0,me.width,me.height);const n=ge.getImageData(0,0,me.width,me.height);ge.putImageData(n,0,0),s(me)};const he=document.getElementById("grid"),ve=he.getContext("2d"),pe={};let ye=!1;function be(e){const t=ve.getImageData(0,0,he.width,he.height);t.data[e+3]=t.data[e+3]-50,ve.putImageData(t,0,0)}function we(e){ye=!0,pe.x=h(e).x,pe.y=h(e).y,be(4*(pe.y*he.width+pe.x)),s(he)}function Ce(e){if(!0===ye){pe.x=h(e).x,pe.y=h(e).y,be(4*(pe.y*he.width+pe.x))}}function Se(){ye=!1,s(he)}const Ee=document.getElementById("grid"),ke=Ee.getContext("2d"),xe=document.getElementById("grid2"),Ie=xe.getContext("2d"),Le={};let Fe=!1;function Oe(e){Le.x=h(e).x,Le.y=h(e).y,function(e){const t=ke.getImageData(0,0,Ee.width,Ee.height),n=Ie.getImageData(0,0,xe.width,xe.height);t.data[e]=n.data[e],t.data[e+1]=n.data[e+1],t.data[e+2]=n.data[e+2],t.data[e+3]=n.data[e+3],ke.putImageData(t,0,0)}(4*(Le.y*Ee.width+Le.x))}function Me(e){!function(){const e=document.getElementById("current"),t=document.getElementById("prev"),n=Ie.getImageData(0,0,xe.width,xe.height),r=n.data,i=Ee.width*Ee.height;let o=1;function a(e,t){r[4*e]=t.r,r[4*e+1]=t.g,r[4*e+2]=t.b,r[4*e+3]=t.a}for(let t=0;t<i;t+=2)a(t,w(e)),Ee.width*o===t+1&&(t-=1,o+=1),Ee.width*o===t+2&&(t+=1,o+=1);o=1;for(let e=1;e<i;e+=2)a(e,w(t)),Ee.width*o===e+1&&(e-=1,o+=1),Ee.width*o===e+2&&(e+=1,o+=1);Ie.putImageData(n,0,0)}(),Fe=!0,Oe(e)}function Re(e){!0===Fe&&Oe(e)}function We(){Fe=!1,s(Ee)}const Te=document.getElementById("grid"),Ae=Te.getContext("2d");let Be,Ue,qe,je,De,He=!1;function Ve(e){He=!0,Be=h(e).x,Ue=h(e).y,De=Ae.getImageData(0,0,Te.clientWidth,Te.height)}function ze(e){if(!0===He){const t=document.querySelector("#current");qe=h(e).x,je=h(e).y,Ae.putImageData(De,0,0),f(Be,Ue,qe,je,w(t))}}function Ne(){const e=document.querySelector("#current");He=!1,Ae.putImageData(De,0,0),f(Be,Ue,qe,je,w(e)),s(Te)}const Pe=document.getElementById("grid");function Ge(){Pe.addEventListener("mousedown",L,!1),Pe.addEventListener("mousemove",F,!1),Pe.addEventListener("mouseup",O,!1)}function $e(){Pe.removeEventListener("mousedown",L,!1),Pe.removeEventListener("mousemove",F,!1),Pe.removeEventListener("mouseup",O,!1)}function _e(){Pe.addEventListener("mousedown",H,!1),Pe.addEventListener("mousemove",V,!1),Pe.addEventListener("mouseup",z,!1)}function Xe(){Pe.removeEventListener("mousedown",H,!1),Pe.removeEventListener("mousemove",V,!1),Pe.removeEventListener("mouseup",z,!1)}function Ye(){Pe.addEventListener("mousedown",$,!1),Pe.addEventListener("mousemove",_,!1),Pe.addEventListener("mouseup",X,!1)}function Je(){Pe.removeEventListener("mousedown",$,!1),Pe.removeEventListener("mousemove",_,!1),Pe.removeEventListener("mouseup",X,!1)}function Ke(){Pe.addEventListener("click",ue,!1)}function Qe(){Pe.removeEventListener("click",ue,!1)}function Ze(){Pe.addEventListener("click",fe,!1)}function et(){Pe.removeEventListener("click",fe,!1)}function tt(){Pe.addEventListener("mousedown",we,!1),Pe.addEventListener("mousemove",Ce,!1),Pe.addEventListener("mouseup",Se,!1)}function nt(){Pe.removeEventListener("mousedown",we,!1),Pe.removeEventListener("mousemove",Ce,!1),Pe.removeEventListener("mouseup",Se,!1)}function rt(){Pe.addEventListener("mousedown",ie,!1),Pe.addEventListener("mousemove",oe,!1),Pe.addEventListener("mouseup",ae,!1)}function it(){Pe.removeEventListener("mousedown",ie,!1),Pe.removeEventListener("mousemove",oe,!1),Pe.removeEventListener("mouseup",ae,!1)}function ot(){Pe.addEventListener("mousedown",Me,!1),Pe.addEventListener("mousemove",Re,!1),Pe.addEventListener("mouseup",We,!1)}function at(){Pe.removeEventListener("mousedown",Me,!1),Pe.removeEventListener("mousemove",Re,!1),Pe.removeEventListener("mouseup",We,!1)}function st(){Pe.addEventListener("mousedown",Ve,!1),Pe.addEventListener("mousemove",ze,!1),Pe.addEventListener("mouseup",Ne,!1)}function dt(){Pe.removeEventListener("mousedown",Ve,!1),Pe.removeEventListener("mousemove",ze,!1),Pe.removeEventListener("mouseup",Ne,!1)}Pe.addEventListener("mousemove",function(e){const t=document.getElementById("grid"),n=document.querySelector(".coordinates"),r=h(e).x,i=h(e).y;r>=t.width||i>=t.height?n.style.visibility="hidden":(n.style.visibility="visible",n.innerHTML=`${r}:${i}`),function(){const e=document.getElementById("grid");document.querySelector(".size").innerHTML=`${e.width}x${e.height}`}()},!1);const ct=document.querySelector(".view"),lt=[];let ut=0,mt=0,gt=0,ft=0,ht=0;function vt(){ut&&(clearInterval(ut),ut=0),mt&&(clearInterval(mt),mt=0),gt&&(clearInterval(gt),gt=0),ft&&(clearInterval(ft),ft=0)}function pt(){const e=Object.values(document.querySelectorAll(".frame img")).map(e=>e.src),t=e.length;1===t&&vt(),e[ht]&&(ct.innerHTML=`<img src="${e[ht]}" class="${r[0]}">`),(ht+=1)>=t&&(ht=0)}function yt(e){var t;vt(),"run"===(t=e.target).id?(ut=setInterval(pt,0),lt[0]="timerSimple"):"two"===t.id?(mt=setInterval(pt,1e3),lt[0]="timerTwo"):"four"===t.id?(gt=setInterval(pt,500),lt[0]="timerFour"):"six"!==t.id||(ft=setInterval(pt,100),lt[0]="timerSix")}const bt=n(0),wt=n(1);var Ct=function(){const e=Object.values(document.querySelectorAll(".frame img")).map(e=>e.src),t=function(){const e=lt[0];let t;return t="timerTwo"===e?1:"timerFour"===e?.5:"timerSix"===e?.1:0}();bt.createGIF({images:e,interval:t,gifWidth:32,gifHeight:32,sampleInterval:1},e=>{if(!e.error){const{image:t}=e;wt(t,"image.gif","image/gif")}})};function St(e){"pen"===e.target.id||"pen-child"===e.target.id?(document.body.style.cursor="url('../src/images/pen.png') 0 100, auto",Ge()):"pen"===e.target.id&&"pen-child"===e.target.id||$e(),"pen-ruler"===e.target.id||"pen-ruler-child"===e.target.id?(document.body.style.cursor="url('../src/images/pen-ruler.png') 0 100, auto",_e()):"pen-ruler"===e.target.id&&"pen-ruler-child"===e.target.id||Xe(),"circle"===e.target.id||"circle-child"===e.target.id?(document.body.style.cursor="url('../src/images/circle.png') 50 50, auto",rt()):"circle"===e.target.id&&"circle-child"===e.target.id||it(),"eraser"===e.target.id||"eraser-child"===e.target.id?(document.body.style.cursor="url('../src/images/eraser.png') 0 100, auto",Ye()):"eraser"===e.target.id&&"eraser-child"===e.target.id||Je(),"paint-bucket"===e.target.id||"paint-bucket-child"===e.target.id?(document.body.style.cursor="url('../src/images/bucket.png') 100 100, auto",Ke()):"paint-bucket"===e.target.id&&"paint-bucket-child"===e.target.id||Qe(),"fill"===e.target.id||"fill-child"===e.target.id?(document.body.style.cursor="url('../src/images/fill.png') 0 0, auto",Ze()):"fill"===e.target.id&&"fill-child"===e.target.id||et(),"lighter"===e.target.id||"lighter-child"===e.target.id?(document.body.style.cursor="url('../src/images/lighter.png') 0 50, auto",tt()):"lighter"===e.target.id&&"lighter-child"===e.target.id||nt(),"dithering"===e.target.id||"dithering-child"===e.target.id?(document.body.style.cursor="url('../src/images/dithering.png') 0 50, auto",ot()):"dithering"===e.target.id&&"dithering-child"===e.target.id||at(),"rectangle"===e.target.id||"rectangle-child"===e.target.id?(document.body.style.cursor="url('../src/images/rectangle.png') 0 50, auto",st()):"rectangle"===e.target.id&&"rectangle-child"===e.target.id||dt(),"download"!==e.target.id&&"download-child"!==e.target.id||Ct()}function Et(e){const t=document.querySelector(".pen"),n=document.querySelector(".pen-ruler"),r=document.querySelector(".circle"),i=document.querySelector(".bucket"),o=document.querySelector(".fill"),a=document.querySelector(".eraser"),s=document.querySelector(".lighter"),d=document.querySelector(".dithering"),c=document.querySelector(".rectangle"),l=document.querySelector(".download");"pen"===e.target.id||"pen-child"===e.target.id?t.style.visibility="visible":t.style.visibility="hidden","pen-ruler"===e.target.id||"pen-ruler-child"===e.target.id?n.style.visibility="visible":n.style.visibility="hidden","circle"===e.target.id||"circle-child"===e.target.id?r.style.visibility="visible":r.style.visibility="hidden","paint-bucket"===e.target.id||"paint-bucket-child"===e.target.id?i.style.visibility="visible":i.style.visibility="hidden","fill"===e.target.id||"fill-child"===e.target.id?o.style.visibility="visible":o.style.visibility="hidden","eraser"===e.target.id||"eraser-child"===e.target.id?a.style.visibility="visible":a.style.visibility="hidden","lighter"===e.target.id||"lighter-child"===e.target.id?s.style.visibility="visible":s.style.visibility="hidden","dithering"===e.target.id||"dithering-child"===e.target.id?d.style.visibility="visible":d.style.visibility="hidden","rectangle"===e.target.id||"rectangle-child"===e.target.id?c.style.visibility="visible":c.style.visibility="hidden","download"===e.target.id||"download-child"===e.target.id?l.style.visibility="visible":l.style.visibility="hidden"}document.onkeyup=function(e){80===e.keyCode?(document.body.style.cursor="url('../src/images/pen.png') 0 100, auto",Ge()):80!==e.keyCode&&$e(),76===e.keyCode?(document.body.style.cursor="url('../src/images/pen-ruler.png') 0 100, auto",_e()):76!==e.keyCode&&Xe(),67===e.keyCode?(document.body.style.cursor="url('../src/images/circle.png') 50 50, auto",rt()):67!==e.keyCode&&it(),69===e.keyCode?(document.body.style.cursor="url('../src/images/eraser.png') 0 100, auto",Ye()):69!==e.keyCode&&Je(),66===e.keyCode?(document.body.style.cursor="url('../src/images/bucket.png') 100 100, auto",Ke()):66!==e.keyCode&&Qe(),65===e.keyCode?(document.body.style.cursor="url('../src/images/fill.png') 0 0, auto",Ze()):65!==e.keyCode&&et(),86===e.keyCode?(document.body.style.cursor="url('../src/images/lighter.png') 0 50, auto",tt()):86!==e.keyCode&&nt(),84===e.keyCode?(document.body.style.cursor="url('../src/images/dithering.png') 0 50, auto",ot()):84!==e.keyCode&&at(),82===e.keyCode?(document.body.style.cursor="url('../src/images/rectangle.png') 0 50, auto",st()):82!==e.keyCode&&dt(),68===e.keyCode&&Ct(),32===e.keyCode&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():ct.requestFullscreen())};const kt=document.getElementById("grid"),xt=kt.getContext("2d"),It=document.querySelector(".old-frame"),Lt=document.getElementsByClassName("frame"),{width:Ft,height:Ot}=kt;function Mt(e){const t=new Image;t.src=e.src,xt.clearRect(0,0,kt.width,kt.height),xt.drawImage(t,0,0)}function Rt(e){const{length:t}=It.children;for(let e=0;e<t;e+=1)It.children[e].classList.remove("check");e.classList.add("check")}function Wt(){const e=document.createElement("button");return e.classList="fas fa-trash-alt",e.id="delete",e}function Tt(e){const t=e.parentNode;Rt(t),Mt(e),a(t),s(kt)}let At={};const Bt={},Ut=document.getElementById("grid");function qt(){!function(){const e=document.querySelector("#current"),t=window.getComputedStyle(e).backgroundColor,n=document.querySelector("#prev"),r={current:t,prev:window.getComputedStyle(n).backgroundColor};localStorage.setItem("colors",JSON.stringify(r))}(),function(){const e=document.getElementsByClassName("frame");for(let t=0;t<e.length;t+=1)At={className:e[t].className,html:e[t].innerHTML},Bt[t]=At,Bt.length=t,At={};localStorage.setItem("frames",JSON.stringify(Bt))}()}function jt(){!function(){const e=JSON.parse(localStorage.getItem("frames")),t=document.querySelector(".old-frame");console.log(e),e.length>=0&&(t.innerHTML="");for(let n=0;n<=e.length;n+=1)t.innerHTML+=`<div class="${e[n].className}">${e[n].html} </div>`;const n=document.querySelector(".check");n&&Tt(n.children[0])}(),s(Ut),function(){const e=document.getElementById("prev"),t=document.getElementById("current"),n=JSON.parse(localStorage.getItem("colors"));e.style.backgroundColor=n.prev,t.style.backgroundColor=n.current}()}var Dt=function(e){"add"!==e.target.id&&"add-child"!==e.target.id||function(){let e=Wt();const t=document.createElement("button");t.classList="fas fa-arrows-alt",t.id="move";const n=Lt.length-1;0===n&&Lt[0].lastChild!==e&&(Lt[0].appendChild(e),Lt[0].appendChild(t)),It.innerHTML+='<div class="frame shadow"id="frame">\n                         <button class="far fa-copy" id="copy"></button>\n                         <button class="fas fa-arrows-alt" id="move"></button>\n                         <button class="fas fa-trash-alt" id=\'delete\'></button>\n                         </div>',Rt(It.children[n+1]),e=Lt[0].lastChild,xt.clearRect(0,0,kt.clientWidth,kt.height),a(),s(kt)}(),"delete"===e.target.id&&function(e){const t=document.querySelector("#delete"),n=document.querySelector("#move"),r=Lt.length-1;if(e.parentNode===Lt[0]){if(It.removeChild(Lt[0]),1===r){const e=document.querySelector("#delete"),t=document.querySelector("#move");Lt[0].removeChild(t),Lt[0].removeChild(e)}return}1===r&&(Lt[0].removeChild(n),Lt[0].removeChild(t));const i=It.children[r-1],o=i.children[0];It.removeChild(e.parentNode),Rt(i),Mt(o),s(kt)}(e.target),"copy"===e.target.id&&function(e){let t=Wt();const n=Lt.length-1,r=e.parentNode.firstChild;0===n&&Lt[0].lastChild!==t&&Lt[0].appendChild(t);const i=document.createElement("div");i.classList="frame shadow",r.width?(kt.width=r.width,kt.height=r.height,xt.drawImage(r,0,0),i.innerHTML=`<img src='${r.src}' id="img">\n                          <button class="far fa-copy" id="copy"></button>\n                          <button class="fas fa-arrows-alt" id="move"></button>\n                          <button class="fas fa-trash-alt" id='delete'></button>`):(kt.width=Ft,kt.height=Ot,i.innerHTML='</button><button class="far fa-copy" id="copy"></button>\n                          <button class="fas fa-arrows-alt" id="move"></button>\n                          <button class="fas fa-trash-alt" id=\'delete\'>');const o=e.parentNode.nextSibling,s=e.parentNode;It.insertBefore(i,o),Rt(o),a(s,!0),t=Lt[0].lastChild}(e.target),"frame"===e.target.id&&Tt(e.target.children[0]),"img"===e.target.id&&Tt(e.target)};const Ht=document.querySelector(".palette"),Vt=document.querySelector(".speed"),zt=document.querySelector(".colors"),Nt=document.querySelector(".frames"),Pt=document.querySelector(".size-canvas");window.onload=function(){jt(),zt.addEventListener("click",b,!1),Ht.addEventListener("click",St,!1),Ht.addEventListener("mouseover",Et,!1),Nt.addEventListener("click",Dt,!1),Vt.addEventListener("click",yt,!1),Pt.addEventListener("click",u,!1)},window.onbeforeunload=function(){qt()}},function(e,t){},,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){}]);
//# sourceMappingURL=app.bundle.js.map